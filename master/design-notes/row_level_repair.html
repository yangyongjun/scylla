


<!doctype html>
<html class="no-js" lang="en">
  
<head><!-- begin head.html -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
    Row level repair | Scylla Docs
    </title>
    <meta name="description" content="Scylla is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server."/>

    <link rel="icon" href="../_static/img/favicon.ico" type="image/x-icon"/>
    <link rel="canonical" href="https://docs.scylladb.com/">

    <link rel="author" href="mailto:info@scylladb.com">
    <link rel="stylesheet" href="../_static/" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/tabs.css" />
    
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/doc/main.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>

    <script src="../_static/js/vendor/modernizr.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T8P2JP');</script>
    <!-- End Google Tag Manager -->

    <!-- Marketo -->
    <script type="text/javascript"> (function() { var didInit = false; function initMunchkin() { if(didInit === false) { didInit = true; Munchkin.init('791-QBF-350'); } } var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//munchkin.marketo.net/munchkin.js'; s.onreadystatechange = function() { if (this.readyState == 'complete' || this.readyState == 'loaded') { initMunchkin(); } }; s.onload = initMunchkin; document.getElementsByTagName('head')[0].appendChild(s); })(); </script>
    <!-- End Marketo -->

<!-- end head.html -->
</head>

<body>



<header id="header" class="animated">
    <div class="topbar_continer contain-to-grid clearfix">
        <nav class="top-bar" id="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <div class="logo">
                        <a href="https://docs.scylladb.com/"><img src="../_static/img/logo-scylla-docs.svg" alt="" width="151"></a>
                    </div>
                </li>
                <li class="toggle-topbar"><a href="#"><span class="icon-manu"></span></a></li>
            </ul>
            <section class="top-bar-section clearfix">
                <ul class="right">
                    
                    <li>
                        <a href="https://scylla.docs.scylladb.com">Scylla Developer Notes</a>
                    </li>
                    
                    <li>
                        <a href="https://university.scylladb.com/">Scylla University</a>
                    </li>
                    
                    <li>
                        <a href="https://www.scylladb.com/">ScyllaDB Home</a>
                    </li>
                    
                    <li class="search_continer show-for-medium-up">	
                        <ci-search></ci-search>	
                    </li>	
                </ul>
            </section>
        </nav>
    </div>
</header>
<section id="content">
    <div class="row">
	
	<div class="large-6 large-push-3 columns">

        

        <section id="row-level-repair">
<h1>Row level repair<a class="headerlink" href="#row-level-repair" title="Permalink to this headline">¶</a></h1>
<section id="how-the-the-partition-level-repair-works">
<h2>How the the partition level repair works<a class="headerlink" href="#how-the-the-partition-level-repair-works" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The repair master decides which ranges to work on.</p></li>
<li><p>The repair master splits the ranges to sub ranges which contains around 100
partitions.</p></li>
<li><p>The repair master computes the checksum of the 100 partitions and asks the
related peers to compute the checksum of the 100 partitions.</p></li>
<li><p>If the checksum matches, the data in this sub range is synced.</p></li>
<li><p>If the checksum mismatches, repair master fetches the data from all the peers
and sends back the merged data to peers.</p></li>
</ul>
</section>
<section id="major-problems-with-partition-level-repair">
<h2>Major problems with partition level repair<a class="headerlink" href="#major-problems-with-partition-level-repair" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>A mismatch of a single row in any of the 100 partitions causes 100
partitions to be transferred. A single partition can be very large. Not to
mention the size of 100 partitions.</p></li>
<li><p>Checksum (find the mismatch) and streaming (fix the mismatch) will read the
same data twice</p></li>
</ul>
</section>
<section id="id1">
<h2>Row level repair<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Row level checksum and synchronization: detect row level mismatch and transfer
only the mismatch</p>
</section>
<section id="how-the-row-level-repair-works">
<h2>How the row level repair works<a class="headerlink" href="#how-the-row-level-repair-works" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>To solve the problem of reading data twice</p></li>
</ul>
<p>Read the data only once for both checksum and synchronization between nodes.</p>
<p>We work on a small range which contains only a few mega bytes of rows,
We read all the rows within the small range into memory. Find the
mismatch and send the mismatch rows between peers.</p>
<p>We need to find a sync boundary among the nodes which contains only N bytes of
rows.</p>
<ul class="simple">
<li><p>To solve the problem of sending unnecessary data.</p></li>
</ul>
<p>We need to find the mismatched rows between nodes and only send the delta.
The problem is called set reconciliation problem which is a common problem in
distributed systems.</p>
<p>For example:</p>
<ul class="simple">
<li><p>Node1 has set1 = {row1, row2, row3}</p></li>
<li><p>Node2 has set2 = {      row2, row3}</p></li>
<li><p>Node3 has set3 = {row1, row2, row4}</p></li>
</ul>
<p>To repair:</p>
<ul class="simple">
<li><p>Node1 fetches nothing from Node2 (set2 - set1), fetches row4 (set3 - set1) from Node3.</p></li>
<li><p>Node1 sends row1 and row4 (set1 + set2 + set3 - set2) to Node2.</p></li>
<li><p>Node1 sends row3 (set1 + set2 + set3 - set3) to Node3.</p></li>
</ul>
</section>
<section id="how-to-implement-repair-with-set-reconciliation">
<h2>How to implement repair with set reconciliation<a class="headerlink" href="#how-to-implement-repair-with-set-reconciliation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Step A: Negotiate sync boundary</p></li>
</ul>
<p>class repair_sync_boundary {
dht::decorated_key pk;
position_in_partition position
}</p>
<p>Reads rows from disk into row buffers until the size is larger than N
bytes. Return the repair_sync_boundary of the last mutation_fragment we
read from disk. The smallest repair_sync_boundary of all nodes is
set as the current_sync_boundary.</p>
<ul class="simple">
<li><p>Step B: Get missing rows from peer nodes so that repair master contains all the rows</p></li>
</ul>
<p>Request combined hashes from all nodes between last_sync_boundary and
current_sync_boundary. If the combined hashes from all nodes are identical,
data is synced, goto Step A. If not, request the full hashes from peers.</p>
<p>At this point, the repair master knows exactly what rows are missing. Request the
missing rows from peer nodes.</p>
<p>Now, local node contains all the rows.</p>
<ul class="simple">
<li><p>Step C: Send missing rows to the peer nodes</p></li>
</ul>
<p>Since local node also knows what peer nodes own, it sends the missing rows to
the peer nodes.</p>
</section>
<section id="how-the-rpc-api-looks-like">
<h2>How the RPC API looks like<a class="headerlink" href="#how-the-rpc-api-looks-like" title="Permalink to this headline">¶</a></h2>
<p>Start:</p>
<ul class="simple">
<li><p>repair_range_start()</p></li>
</ul>
<p>Step A:</p>
<ul class="simple">
<li><p>get_sync_boundary()</p></li>
</ul>
<p>Step B:</p>
<ul class="simple">
<li><p>get_combined_row_hashes()</p></li>
<li><p>get_full_row_hashes()</p></li>
<li><p>get_row_diff()</p></li>
</ul>
<p>Step C:</p>
<ul class="simple">
<li><p>put_row_diff()</p></li>
</ul>
<p>Finish:</p>
<ul class="simple">
<li><p>repair_range_stop()</p></li>
</ul>
</section>
<section id="performance-evaluation">
<h2>Performance evaluation<a class="headerlink" href="#performance-evaluation" title="Permalink to this headline">¶</a></h2>
<p>We created a cluster of 3 Scylla nodes on AWS using i3.xlarge instance. We
created a keyspace with a replication factor of 3 and inserted 1 billion
rows to each of the 3 nodes. Each node has 241 GiB of data.
We tested 3 cases below.</p>
<section id="synced-one-of-the-node-has-zero-data-the-other-two-nodes-have-1-billion-identical-rows">
<h3>1) 0% synced: one of the node has zero data. The other two nodes have 1 billion identical rows.<a class="headerlink" href="#synced-one-of-the-node-has-zero-data-the-other-two-nodes-have-1-billion-identical-rows" title="Permalink to this headline">¶</a></h3>
<p>Time to repair:</p>
<ul class="simple">
<li><p>old = 87 min</p></li>
<li><p>new = 70 min (rebuild took 50 minutes)</p></li>
<li><p>improvement = 19.54%</p></li>
</ul>
</section>
<section id="synced-all-of-the-3-nodes-have-1-billion-identical-rows">
<h3>2) 100% synced: all of the 3 nodes have 1 billion identical rows.<a class="headerlink" href="#synced-all-of-the-3-nodes-have-1-billion-identical-rows" title="Permalink to this headline">¶</a></h3>
<p>Time to repair:</p>
<ul class="simple">
<li><p>old = 43 min</p></li>
<li><p>new = 24 min</p></li>
<li><p>improvement = 44.18%</p></li>
</ul>
</section>
<section id="synced-each-node-has-1-billion-identical-rows-and-1-billion-0-1-distinct-rows">
<h3>3) 99.9% synced: each node has 1 billion identical rows and 1 billion * 0.1% distinct rows.<a class="headerlink" href="#synced-each-node-has-1-billion-identical-rows-and-1-billion-0-1-distinct-rows" title="Permalink to this headline">¶</a></h3>
<p>Time to repair:</p>
<ul class="simple">
<li><p>old: 211 min</p></li>
<li><p>new: 44 min</p></li>
<li><p>improvement: 79.15%</p></li>
</ul>
<p>Bytes sent on wire for repair:</p>
<ul class="simple">
<li><p>old: tx= 162 GiB,  rx = 90 GiB</p></li>
<li><p>new: tx= 1.15 GiB, tx = 0.57 GiB</p></li>
<li><p>improvement: tx = 99.29%, rx = 99.36%</p></li>
</ul>
<p>It is worth noting that row level repair sends and receives exactly the
number of rows needed in theory.</p>
<p>In this test case, repair master needs to receives 2 million rows and
sends 4 million rows. Here are the details: Each node has 1 billion *
0.1% distinct rows, that is 1 million rows. So repair master receives 1
million rows from repair follower 1 and 1 million rows from repair follower 2.
Repair master sends 1 million rows from repair master and 1 million rows
received from repair follower 1 to repair follower 2. Repair master sends
sends 1 million rows from repair master and 1 million rows received from
repair follower 2 to repair follower 1.</p>
<p>In the result, we saw the rows on wire were as expected.</p>
<p>tx_row_nr  = 1000505 + 999619 + 1001257 + 998619 (4 shards, the numbers are for each shard) = 4’000’000
rx_row_nr  =  500233 + 500235 +  499559 + 499973 (4 shards, the numbers are for each shard) = 2’000’000</p>
</section>
</section>
<section id="rpc-stream-usage-in-repair">
<h2>RPC stream usage in repair<a class="headerlink" href="#rpc-stream-usage-in-repair" title="Permalink to this headline">¶</a></h2>
<p>Some of the RPC verbs used by row level repair can transmit bulk of data,
namely REPAIR_GET_FULL_ROW_HASHES, REPAIR_GET_ROW_DIFF and REPAIR_PUT_ROW_DIFF.
To have better repair bandwidth with high latency link, we want to increase the
row buff size.  It is more efficent to send large amount of data with RPC
stream interface instead of the RPC verb interface.  We want to switch to RPC
stream for such RPC verbs. Three functions, get_full_row_hashes(),
get_row_diff() and put_row_diff(), are converted to use the new RPC stream
interface.</p>
<section id="get-full-row-hashes">
<h3>1) get_full_row_hashes()<a class="headerlink" href="#get-full-row-hashes" title="Permalink to this headline">¶</a></h3>
<p>A new REPAIR_GET_FULL_ROW_HASHES_WITH_RPC_STREAM rpc veb is introduced.</p>
<section id="the-repair-master-sends-repair-stream-cmd">
<h4>The repair master sends: repair_stream_cmd.<a class="headerlink" href="#the-repair-master-sends-repair-stream-cmd" title="Permalink to this headline">¶</a></h4>
<p>The repair_stream_cmd can be:</p>
<ul class="simple">
<li><p>repair_stream_cmd::get_full_row_hashes
Asks the repair follower to send all the hashes in working row buffer.</p></li>
</ul>
</section>
<section id="the-repair-follower-replies-repair-hash-with-cmd">
<h4>The repair follower replies: repair_hash_with_cmd.<a class="headerlink" href="#the-repair-follower-replies-repair-hash-with-cmd" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">repair_hash_with_cmd</span> <span class="p">{</span>
    <span class="n">repair_stream_cmd</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">repair_hash</span> <span class="nb">hash</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The repair_stream_cmd in repair_hash_with_cmd can be:</p>
<ul class="simple">
<li><p>repair_stream_cmd::hash_data
One of the hashes in the working row buffer. The hash is stored in repair_hash_with_cmd.hash.</p></li>
<li><p>repair_stream_cmd::end_of_current_hash_set
Notifies repair master that  repair follower has send all the hashes in the working row buffer</p></li>
<li><p>repair_stream_cmd::error
Notifies an error has happened on the follower</p></li>
</ul>
</section>
</section>
<section id="get-row-diff">
<h3>2) get_row_diff()<a class="headerlink" href="#get-row-diff" title="Permalink to this headline">¶</a></h3>
<p>A new REPAIR_GET_ROW_DIFF_WITH_RPC_STREAM rpc veb is introduced.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">repair_hash_with_cmd</span> <span class="p">{</span>
    <span class="n">repair_stream_cmd</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">repair_hash</span> <span class="nb">hash</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">struct</span> <span class="n">repair_row_on_wire_with_cmd</span> <span class="p">{</span>
    <span class="n">repair_stream_cmd</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">repair_row_on_wire</span> <span class="n">row</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<section id="the-repair-master-sends-repair-hash-with-cmd">
<h4>The repair master sends: repair_hash_with_cmd<a class="headerlink" href="#the-repair-master-sends-repair-hash-with-cmd" title="Permalink to this headline">¶</a></h4>
<p>The repair_stream_cmd in repair_hash_with_cmd can be:</p>
<ul class="simple">
<li><p>repair_stream_cmd::needs_all_rows
Asks the repair follower to send all the rows in the working row buffer.</p></li>
<li><p>repair_stream_cmd::hash_data
Contains the hash for the row in the working row buffer that repair master
needs. The hash is stored in repair_hash_with_cmd.hash.</p></li>
<li><p>repair_stream_cmd::end_of_current_hash_set</p></li>
</ul>
<p>Notifies repair follower that repair master has sent all the rows it needs.</p>
</section>
<section id="the-repair-follower-replies-repair-row-on-wire-with-cmd">
<h4>The repair follower replies: repair_row_on_wire_with_cmd<a class="headerlink" href="#the-repair-follower-replies-repair-row-on-wire-with-cmd" title="Permalink to this headline">¶</a></h4>
<p>The repair_stream_cmd in repair_row_on_wire_with_cmd can be:</p>
<ul class="simple">
<li><p>repair_stream_cmd::row_data
This is one of the row repair master requested. The row data is stored in
repair_row_on_wire_with_cmd.row.</p></li>
<li><p>repair_stream_cmd::end_of_current_rows
Notifes repair follower has sent all the rows repair master requested.</p></li>
<li><p>repair_stream_cmd::error
Notifies an error has happened on the follower.</p></li>
</ul>
</section>
</section>
<section id="put-row-diff">
<h3>3) put_row_diff()<a class="headerlink" href="#put-row-diff" title="Permalink to this headline">¶</a></h3>
<p>A new REPAIR_PUT_ROW_DIFF_WITH_RPC_STREAM  rpc veb is introduced.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">repair_row_on_wire_with_cmd</span> <span class="p">{</span>
    <span class="n">repair_stream_cmd</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">repair_row_on_wire</span> <span class="n">row</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<section id="the-repair-master-sends-repair-row-on-wire-with-cmd">
<h4>The repair master sends: repair_row_on_wire_with_cmd<a class="headerlink" href="#the-repair-master-sends-repair-row-on-wire-with-cmd" title="Permalink to this headline">¶</a></h4>
<p>The repair_stream_cmd in repair_row_on_wire_with_cmd can be:</p>
<ul class="simple">
<li><p>repair_stream_cmd::row_data
Contains one of the rows that repair master wants to send to repair follower.
The row data is stored in repair_row_on_wire_with_cmd.row.</p></li>
<li><p>repair_stream_cmd::end_of_current_rows
Notifies repair follower that repair master has sent all the rows it wants to send.</p></li>
</ul>
</section>
<section id="the-repair-follower-replies-repair-stream-cmd">
<h4>The repair follower replies: repair_stream_cmd<a class="headerlink" href="#the-repair-follower-replies-repair-stream-cmd" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>repair_stream_cmd::put_rows_done
Notifies repair master that repair follower has received and applied all the
rows repair master sent.</p></li>
<li><p>repair_stream_cmd::error
Notifies an error has happened on the follower.</p></li>
</ul>
</section>
</section>
</section>
</section>

        </div>

        <div id="sidebar" class="large-3 large-pull-6 columns"><div class="side-nav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Scylla Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alternator/alternator.html">Alternator: DynamoDB API in Scylla</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Design Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="IDL.html">IDL definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="cdc.html">CDC</a></li>
<li class="toctree-l2"><a class="reference internal" href="compaction_controller.html">The Compaction Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="cql-extensions.html">Scylla CQL extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="cql-extensions-internal.html">Scylla CQL extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="cql3-type-mapping.html">CQL3 Type Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="hinted_handoff_design.html">Hinted Handoff Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="isolation.html">Performance Isolation in Scylla</a></li>
<li class="toctree-l2"><a class="reference internal" href="lua-type-mapping.html">CQL to Lua type mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Scylla Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrating-from-users-to-roles.html">Migrating from users to roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="paged-queries.html">Paged queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocol-extensions.html">Protocol extensions to the Cassandra Native Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocols.html">Ports and protocols in Scylla</a></li>
<li class="toctree-l2"><a class="reference internal" href="redis.html">Redis API in Scylla</a></li>
<li class="toctree-l2"><a class="reference internal" href="repair_based_node_ops.html">Repair based node operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="row_cache.html">Row Cache</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Row level repair</a></li>
<li class="toctree-l2"><a class="reference internal" href="secondary_index.html">Secondary indexes in Scylla</a></li>
<li class="toctree-l2"><a class="reference internal" href="sstable-scylla-format.html">File format of the Scylla.db sstable component</a></li>
<li class="toctree-l2"><a class="reference internal" href="sstables-directory-structure.html">sstables directory structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="system_keyspace.html">System keyspace layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="system_schema_keyspace.html">System schema keyspace layout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute</a></li>
</ul>

</div>
        </div>

        <div class="large-3 columns">
            
                <div class="versions-dropdown single-version">
    <button class="button">
    
        master
    
	 <i class="fa fa-caret-down" aria-hidden="true"></i>
    </button>
    <ul class="content">
            <li><a href="row_level_repair.html">master</a></li>
    </ul>
</div>
            
        </div>

    </div>
</section>

<!-- newsleter modal -->

<div id="newsletter_signup" class="reveal-modal tiny radius dark_modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <a class="close-reveal-modal" aria-label="Close">×</a>
    <h2 id="modalTitle">Sign up for the Scylla newsletter</h2>
    <div id="mc_embed_signup">
        <form action="//cloudius-systems.us10.list-manage.com/subscribe/post?u=df8bb543c68230d5f7b4dcf78&amp;id=9a4589f144" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
            <div id="mc_embed_signup_scroll">

                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-EMAIL">Email</label></div>
                        <div class="small-9 columns"><input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-FNAME">First Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="FNAME" class="" id="mce-FNAME"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-LNAME">Last Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="LNAME" class="" id="mce-LNAME"></div>
                    </div>
                </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_df8bb543c68230d5f7b4dcf78_9a4589f144" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" class="button" value="Sign up" name="subscribe" id="mc-embedded-subscribe"></div>
            </div>
        </form>
    </div>
</div>

<!-- end newsleter modal -->



<!-- footer.html -->
<footer id="footer">
    <div class="footer-top">
        <a class="logo" href="https://www.scylladb.com"><img src="../_static/img/logo-scylla-horizontal-RGB.svg" alt=""></a>
        <div class="footer-links">
            <a class="link" href="https://docs.scylladb.com">Docs</a>
            <a class="link" href="https://www.scylladb.com/company/contact-us/">Contact Us</a>
            <a class="link" href="https://www.scylladb.com/company/">About Us</a>
            <a class="link button" href="https://github.com/scylladb/scylla/issues/new?title=Issue in page Row level repair&&body=I%20would%20like%20to%20report%20an%20issue%20in%20page%20https://scylla.docs.scylladb.com/master/design-notes/row_level_repair%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix" target="_blank">
                Report an issue on this page</a>
        </div>
        <div class="footer-actions">
            <a class="link-icon" href="https://github.com/ScyllaDB" target="_blank">
                <span class="icon-github2"></span></a>
            <a class="link-icon" href="https://twitter.com/ScyllaDB" target="_blank">
                <span class="icon-twitter"></span></a>
            <a class="link-icon" href="https://www.linkedin.com/company/scylladb"  target="_blank">
                <span class="icon-linkedin2"></span></a>
            <a class="link-icon" href="https://www.facebook.com/scylladb/" target="_blank">
                <span class="icon-facebook"></span></a>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="footer-info">
            <div class="footer-copyright">
                &#169; 2021, ScyllaDB. All rights reserved.
            </div>
            <div class="footer-last-updated">
                Last updated on 11 May 2021.
            </div>
            <div class="footer-version">
                Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
                &amp; <a href="https://pypi.org/project/sphinx-scylladb-theme">ScyllaDB Theme 0.1.23</a>
            </div>
        </div>
        <div class="footer-links">
        </div>
    </div>
</footer>
<!-- end footer.html -->

<!-- bodyscripts.html -->
<!-- at the end of the BODY --> 
<script src="../_static/js/vendor/jquery.js"></script>
<script src="../_static/js/vendor/jquery.cookie.min.js"></script>
<script src="../_static/expertrec.js"></script>
<script src="../_static/js/foundation/foundation.js"></script>
<script src="../_static/js/foundation/foundation.topbar.js"></script>
<script src="../_static/app.js"></script>
<script>
    $(document).foundation();
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <!-- end bodyscripts.html -->
</body>
</html>